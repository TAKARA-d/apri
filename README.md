# NASDAQ100先物(NQW00) ポイント監視・予測分析アプリ

本アプリはゲームではなく、**NASDAQ100先物をリアルタイムクオートで監視し、日本語ニュースを吸収して予測精度を継続改善する分析アプリ**です。

## 主な機能

- 先物ポイントの常時把握（10秒更新）
  - `/api/quote` で NQW00:CME_EMINIS を優先してリアルタイム系クオート取得（Google Finance優先、次にStooq）
  - 現在ポイント / 前日比ポイント / 前日比% / 更新時刻 を表示
  - リアルタイム値を分析用の最新足にも反映し、予測との乖離を抑制
- 軸付きチャート
  - 先物ポイント推移（Y軸=ポイント, X軸=日付）
  - 5日 / 1か月 / 3か月 / 6か月 / 1年 で切替可能
  - 日次騰落率バー（Y軸=% , X軸=日付）
- 日本語ニュース取得
  - Google News（7日以内検索） + NHK
  - タイトルごとの簡易センチメント
- 予測分析
  - テクニカル指標（モメンタム, RSI, MACD, ボラ）+ ニュース特徴量
  - 翌営業日/20営業日の予測
  - Test MAE, 方向一致率で評価
- 精度改善のための学習データ蓄積
  - 「予測検証データを保存」ボタンで予測値と実績値を `/api/memory` に保存
  - 蓄積誤差をバイアス補正として次回予測へ反映（同日保存は上書きで暴走を防止）

## 起動

```bash
node server.mjs
```

`http://localhost:8000`

## テスト

```bash
node --test tests/test_engine.mjs
```

## 補足

- ネットワーク制限がある環境では `source: fallback` でフォールバックデータを返します（クオートも同様）。
- 制限がない環境では自動的に `source: live` で最新ニュース・市場データを利用します。
